<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    
        <title>Set Featured Images Programmatically in WordPress | Robert DeVore - Creative Thinker. Hustler. Web Developer Entrepreneur.</title>
        <meta name="description" content="Robert is an opinionated developer who is building Stattic and CannaBiz Software, LLC.">
        <meta name="keywords" content="SSG, Static Site Generator">
        <meta name="author" content="Robert">
    

    <link href="/assets/css/tailwind.min.css" rel="stylesheet preload" as="style">
    
        <link href="/assets/css/main.min.css" rel="stylesheet preload" as="style">
    

    <!-- Alpine.js for interactive components -->
    <script src="/assets/js/alpine.min.js" defer></script>
</head>
<body class="bg-background text-primary quicksand-300">

<!-- Skip Links for Accessibility -->
<a href="#main-content" class="skip-link">Skip to main content</a>
<a href="#navigation" class="skip-link">Skip to navigation</a>
<a href="#footer" class="skip-link">Skip to footer</a>

<header class="bg-background shadow" id="navigation">
    <div class="container max-w-screen-xl m-auto py-6 px-4 flex justify-between">
        <h2 class="text-3xl quicksand-700"><a href="/" class="text-links">Robert DeVore</a></h2>

        <!-- Navigation Menu -->
        <nav>
            <ul class="flex space-x-6">
                
                    
                    <li>
                        <a href="/home-page/" class="text-primary hover:underline quicksand-700">Robert DeVore</a>
                    </li>
                    
                
                    
                    <li>
                        <a href="/contact/" class="text-primary hover:underline quicksand-700">Contact</a>
                    </li>
                    
                
                    
                    <li>
                        <a href="/projects/" class="text-primary hover:underline quicksand-700">Projects</a>
                    </li>
                    
                
                    
                    <li>
                        <a href="/wordpress-and-woocommerce-plugins/" class="text-primary hover:underline quicksand-700">WordPress &amp; WooCommerce Plugins</a>
                    </li>
                    
                
                    
                    <li>
                        <a href="/wordpress-plugin-updates/" class="text-primary hover:underline quicksand-700">WordPressÂ® Plugin Updates</a>
                    </li>
                    
                
                    
                    <li>
                        <a href="/about/" class="text-primary hover:underline quicksand-700">About Robert DeVore</a>
                    </li>
                    
                
            </ul>
        </nav>
    </div>
</header>

<main class="container max-w-2xl m-auto py-10 px-4" id="main-content">
    
<article class="prose dark:prose-dark max-w-none">
    <h1 class="text-6xl mb-4 text-links quicksand-700">Set Featured Images Programmatically in WordPress</h1>
    <p class="text-2md post-meta mb-4 pb-2 text-accent italic border-b border-primary"><span class="date">2018-04-03T08:12:16</span> &middot; <span class="author">Robert</span></p>
    
    <div class="stattic-content mb-12">
        <p>Recently, I found myself needing to auto-set 300+ featured images for a customers <a href="https://www.woocommerce.com" target="_blank" rel="noopener noreferrer">WooCommerce</a> store.</p>
<p>After the initial panic phased itself out, I took a couple of deep breathes and realized I&#8217;ve done a few kinda-sorta similar things with custom functions in the past.</p>
<p>After a few hours of hacking the code up and reformatting it to fit my specific needs, I ended up with the plugin that automatically cycles through each WooCommerce product and does it&#8217;s magic on plugin activation.</p>
<p><img loading="lazy" decoding="async" class="aligncenter size-full wp-image-1169" src="http://robertdevore.com/wp-content/uploads/2018/04/magic.gif" alt="" width="275" height="252" /></p>
<h2>Why set featured images programmatically?</h2>
<p>If you&#8217;re working on a client website and there&#8217;s only a couple of featured images you need to set, then it may be best to just manually set each featured image.</p>
<p>But let&#8217;s say your client has over 200 WooCommerce products that are all set up, except for the featured images.</p>
<p>Let&#8217;s say the client added images to each product, but placed them inside the content instead of setting a featured image.</p>
<p>What direction would you take to handle this situation?</p>
<p>The first option would be to add a featured imaged to each product manually.</p>
<p><figure id="attachment_1163" aria-describedby="caption-attachment-1163" style="width: 282px" class="wp-caption aligncenter"><img loading="lazy" decoding="async" class="wp-image-1163 size-full" src="http://robertdevore.com/wp-content/uploads/2018/04/fuck-that.gif" alt="" width="282" height="257" /><figcaption id="caption-attachment-1163" class="wp-caption-text">Fuck that.</figcaption></figure></p>
<p>Instead, the code below will cycle through all of your published WooCommerce products and get the first image that&#8217;s attached to the product and make that image ID the featured image.</p>
<p></p>
<h2>The Code</h2>
<p>The function loops through all published WooCommerce products and checks if there&#8217;s any media attached to the product.</p>
<p>If it finds attached media, it will use that specific image&#8217;s media ID for the product&#8217;s featured image.</p>
<p>If there&#8217;s no media, it then checks to see if an image has been placed within <code>the_content</code> of the product.</p>
<p>If it finds an image within <code>the_content</code>, it uses that image&#8217;s media ID for the featured image.</p>
<p>If no image is found in either, nothing is done.</p>
<p>https://gist.github.com/robertdevore/9803c06086d27be2abbd540ad925cf62</p>
<h2>Download the plugin from Github</h2>
<p>I created a simple plugin that fires off this function on plugin activation.</p>
<p>Download the beta version:</p>
<p><code>git clone https://github.com/robertdevore/woocommerce-set-featured-images</code></p>
<p>Don&#8217;t want to get it from the command line?</p>
<p>Download it from it&#8217;s <a href="https://github.com/robertdevore/woocommerce-set-featured-images" target="_blank" rel="noopener noreferrer">Github repository</a>.</p>
<p><strong>Although this code works for me, I cannot guarantee that it will work for you. </strong><strong>Please remember to back up your website before use, just in case ?</strong></p>
    </div>
</article>

</main>

<footer class="bg-background border-t border-primary mt-10 py-6" id="footer">
    <div class="container max-w-screen-xl m-auto px-4 text-center">
        <p>&copy; 1985-2024 Robert DeVore &middot; Get <a href="https://stattic.site/" target="_blank" class="text-links" aria-label="Stattic - opens in a new tab">Stattic</a></p>
    </div>
</footer>

</body>
</html>