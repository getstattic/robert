<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Run a Tor relay | Stattic</title>

    <meta name="description" content="Stattic is a fast, lightweight static site generator that optimizes images, supports custom fonts, and easily integrates with GitHub Pages for quick, SEO-friendly site deployment without the bloat of traditional CMS platforms like WordPress.">
    <meta name="keywords" content="SSG, Static Site Generator">
    <meta name="author" content="Robert">

    <link href="/assets/css/tailwind.min.css" rel="stylesheet preload" as="style">
    
        <link href="/assets/css/main.min.css" rel="stylesheet preload" as="style">
    

    <!-- Alpine.js for interactive components -->
    <script src="/assets/js/alpine.min.js" defer></script>
</head>
<body class="bg-background text-primary quicksand-300">

<header class="bg-background shadow">
    <div class="container max-w-screen-xl m-auto py-6 px-4 flex justify-between">
        <h2 class="text-3xl font-bold quicksand-700"><a href="/" class="text-links">Stattic</a></h2>

        <!-- Navigation Menu -->
        <nav>
            <ul class="flex space-x-6">
                
                    <li>
                        <a href="/home-page/" class="text-primary hover:underline quicksand-700">Robert DeVore</a>
                    </li>
                
                    <li>
                        <a href="/contact/" class="text-primary hover:underline quicksand-700">Contact</a>
                    </li>
                
                    <li>
                        <a href="/blog/" class="text-primary hover:underline quicksand-700">Blog</a>
                    </li>
                
                    <li>
                        <a href="/projects/" class="text-primary hover:underline quicksand-700">Projects</a>
                    </li>
                
                    <li>
                        <a href="/wordpress-and-woocommerce-plugins/" class="text-primary hover:underline quicksand-700">WordPress &amp; WooCommerce Plugins</a>
                    </li>
                
                    <li>
                        <a href="/about/" class="text-primary hover:underline quicksand-700">About Robert DeVore</a>
                    </li>
                
            </ul>
        </nav>
    </div>
</header>

<main class="container max-w-2xl m-auto py-10 px-4">
    
<article class="prose dark:prose-dark max-w-none">
    <h1 class="text-6xl font-bold mb-4 text-links quicksand-700">Run a Tor relay</h1>
    <p class="text-2md post-meta mb-4 pb-2 text-accent italic border-b border-primary"><span class="date">2015-08-15T13:31:36</span> &middot; <span class="author">Robert</span></p>
    
    <div class="stattic-content mb-12">
        <p>Tor is an important tool for your privacy, security and freedom of speech. In an increasingly Orwellian world, Tor has become one of the most important tools, in my opinion, for you to be truly <em>free</em> online.
I would like to start doing my part to help out with a project that I've personally used for years, which is why I am writing up this guide on how to set up a Tor middle relay on a Digital Ocean droplet.</p>
<h2>What is a Tor relay?</h2>
<p>Over the years, <a href="http://arstechnica.com/information-technology/2013/04/tor-calls-for-help-as-its-supply-of-bridges-falters/">Tor has been in need of middle relays</a> in order to increase it's speed, and provide a more reliable service for it's users.</p>
<blockquote>
<p>Tor relays are also referred to as "routers" or "nodes." They receive traffic on the Tor network and pass it along. Check out the <a href="http://www.torproject.org/">Tor website</a> for a more detailed explanation of how Tor works.
For greater security, all Tor traffic passes through at least three relays before it reaches its destination. The first two relays are middle relays which receive traffic and pass it along to another relay.
Middle relays add to the speed and robustness of the Tor network without making the owner of the relay look like the source of the traffic.
The more middle relays that Tor has, the faster it goes, making it more likely that there will be more users, which in turn adds to the security of those on the network.
It's a circle of growth that I would like to be a part of.
With most guides, Tor relays are set up on your own personal computer (<a href="http://www.torproject.org/docs/tor-doc-relay.html.en">here</a> and <a href="http://www.torproject.org/docs/tor-relay-debian.html.en">here</a>, as examples).
However, since Digital Ocean has been <a href="http://lists.torproject.org/pipermail/tor-relays/2013-January/001834.html">OK with middle relays for Tor</a>, I think it's a great solution to keep your Tor relay separate from your home network, and computer.
Today, I am going to break down the process I'm taking to set up my own Tor middle relay on Digital Ocean.</p>
</blockquote>
<h2>Getting started with Digital Ocean</h2>
<p>For those of you who don't know, Digital Ocean is a SSD cloud server host that lets you <em>spin up</em> a droplet in 55 seconds.
By using the following sign up link (my affiliate link), you get a <strong>$10 credit</strong> , which means you'll be able to set up a server for your Tor relay without even having to come out of your pocket for the first two months.
<a href="http://robertdevore.com/recommends/digitalocean">Sign up to Digital Ocean</a>
<img alt="digital-ocean-tor-relay-tutorial-1" src="/images/digital-ocean-tor-relay-tutorial-1.webp" />
Getting your account set up is fairly straight forward.
Create an account on their <a href="http://robertdevore.com/recommends/digitalocean">home page</a>, add your credit card information for billing, and you're ready to start setting up your first droplet.
<img alt="The screen you see once your Digital Ocean account is set up" src="/images/digital-ocean-tor-relay-tutorial-2.webp" />The screen you see once your Digital Ocean account is set up</p>
<h4>Creating your Droplet</h4>
<p>Once you've signed up for Digital Ocean and have added in your billing information, you'll now be creating your first Droplet. Don't worry if you have never done something like this before, Digital Ocean makes the process a breeze.
Once you click the Create Droplet button, you'll be taken to a page where you need to add your Droplet name and select what kind of server you want to run.
<img alt="digital-ocean-tor-relay-tutorial-3" src="/images/digital-ocean-tor-relay-tutorial-3.webp" />
  1. You can name your Droplet whatever you'd like. For mine, I chose <code>FuckYeahTor</code>, but feel free to make yours something less vulgar ðŸ™‚
  2. Select the <strong>$5/month</strong> Droplet size.
  3. Select the <strong>New York #3</strong> Region
  4. Select <strong>Debian 7.0 x64</strong> for the Droplet Image
  5. Click the <strong>Create Droplet</strong> button
  6. Wait for the Droplet creation to finish</p>
<p>If you are now seeing a screen like the image below, congratulations! You've just set up your first Droplet using Digital Ocean.
<img alt="digital-ocean-tor-relay-tutorial-4" src="/images/digital-ocean-tor-relay-tutorial-4.webp" /></p>
<h2>Setting up your Tor relay</h2>
<p>Now that you've got your server set up, it's time to start getting the Tor relay set up. Firs things first, click the <strong>Console Access</strong> button like in the screenshot above, or use your favorite SSH client, like <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/">PuTTY</a>.
This takes you to a screen with a black box that asks for your user/pass. This has been sent to you via email, so grab that and log in. Once you're logged in, it requires that you change your password, and when you do that, you're looking at a screen similar to the one below.
<img alt="digital-ocean-tor-relay-tutorial-5" src="/images/digital-ocean-tor-relay-tutorial-5.webp" />
Next, we'll be installing <a href="http://www.torproject.org/">Tor</a> &amp; <a href="http://www.torproject.org/projects/arm.html.en">Arm</a> onto our server. In your SSH client (or Console), type the following in:
<code>apt-get install tor tor-arm</code>
Hit ENTER on your keyboard and you'll now see a bunch of stuff happening in your window. Let this run it's course, until it asks you to type <strong>Y/N</strong> to continue. Type <strong>Y</strong> and hit ENTER on your keyboard.
<img alt="digital-ocean-tor-relay-tutorial-6" src="/images/digital-ocean-tor-relay-tutorial-6.webp" />
Now well be editing the Tor config file in order to set up the proper settings for our Tor relay.
In your SSH client, type the following:
<code>nano /etc/tor/torrc</code>
This will open the file in your console, which looks like the image below.
<img alt="digital-ocean-tor-relay-tutorial-7" src="/images/digital-ocean-tor-relay-tutorial-7.webp" />
Now, we'll be scrolling through the file content and editing the following options so they reflect the information below <em>(note: they 're all not together, I just published them this way for ease of reading)</em></p>
<blockquote>
<p>ORPort 443<br />
 Exitpolicy reject <em>:</em><br />
 Nickname YourNickname<br />
 ContactInfo youremailaddress AT gmail dot com<br />
 Log notice file /var/log/tor/notices.log<br />
 RelayBandwidthRate 1024 KB<br />
 RelayBandwidthBurst 1024 KB
Once you've saved the file, you'll need to run the following:
<code>service reload tor</code>
then run
<code>sudo -u debian-tor arm</code>
If all went according to plan, you're done and your Tor relay should be up and running.
According to <a href="http://blog.torproject.org/blog/lifecycle-of-a-new-relay">this article</a> from Tor, there's a life cycle that your relay goes through. During this time frame, you shouldn't expect to see much bandwidth used right away while Tor does all of it's tests.</p>
</blockquote>
<h2>My thoughts on the process</h2>
<p>There's a lot of documentation out there on how to set up Tor Relays, but in order to do this through Digital Ocean, I had to hack together some of these how-to's from various sources in order to get it to run right.
The process took me a little longer than I would have liked, but overall it wasn't too bad, and now that I've got a Tor relay set up, and the process is documented, I'm going to go back and set up another relay soon.</p>
<h4>Thank You's</h4>
<p>The links below were a big help for me getting this process together, and I doubt I would have been able to get this all sorted out without their help.
  * <a href="http://www.torproject.org/index.html.en">Tor Project</a> â€¦ obviously!
  * <a href="http://robertdevore.com/recommends/digitalocean">Digital Ocean</a> for the easy to use server &amp; for allowing middle relays
  * <a href="http://www.eff.org/torchallenge/">EFF's Tor Challenge</a>
  * <a href="http://gist.github.com/pdp7/138768f9279740096fe8">This Gist</a> was a great help in visualizing the setup for me
  * <a href="http://longren.io/tor-is-important-for-privacy-and-the-internet/">Tyler Longren's article</a> on Tor and Digital Ocean</p>
<p>How'd it go for you? Were you able to get set up, or was there a part of the process that you didn't fully understand?
Drop a comment and let me know and I'll help as much as I possibly can.</p>
    </div>
</article>

</main>

<footer class="bg-background border-t border-primary mt-10 py-6">
    <div class="container max-w-screen-xl m-auto px-4 text-center">
        <p>Get <a href="https://stattic.site/" target="_blank" class="text-links font-bold" aria-label="Stattic - opens in a new tab">Stattic</a></p>
    </div>
</footer>

</body>
</html>